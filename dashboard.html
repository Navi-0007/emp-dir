{% extends "main.html" %}
{% block head %}Dashboard - Employee Directory{% endblock %}
{% block body %}
<div class="container mt-5">
  <div class="row justify-content-between mb-3">
    <div class="col-md-8 text-center">
      <h1 class="mb-3">Welcome, {{ session['user'] }}!</h1>
      <p class="lead mb-4">Your Employee Directory Dashboard</p>
    </div>
    <div class="col-md-4 text-right">
      <a href="{{ url_for('logout') }}" class="btn btn-danger">Logout</a>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-md-4">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <i class="fa fa-users fa-3x text-primary mb-3"></i>
          <h5 class="card-title">View Directory</h5>
          <p class="card-text">Browse all employees in the company directory.</p>
          <a href="{{ url_for('directory') }}" class="btn btn-outline-primary btn-block">Go to Directory</a>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <i class="fa fa-key fa-3x text-warning mb-3"></i>
          <h5 class="card-title">Create New User Code</h5>
          <p class="card-text">Generate a new HR code for user registration.</p>
          <a href="{{ url_for('generate_hr_code') }}" class="btn btn-outline-warning btn-block">Generate HR Code</a>
        </div>
      </div>
    </div>
  </div>
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="alert alert-warning">
        {% for message in messages %}
          {{ message }}
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}
</div>
<!-- FontAwesome CDN for icons (if not already included in main.html) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}
print("Logged in user:", session.get('user'), "Role:", session.get('role'))